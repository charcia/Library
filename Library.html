<!DOCTYPE html>

<html lang="eng">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="Library.css">
    </head>
    
    <body>

        <form action="#" method="get" id="form">
            <div>
                <label for="author">Author's Name: </label>
                <input type="text" name="author" id="author" class="input"> 
            </div>
            <div>
                <label for="title">Title: </label>
                <input type="text" name="title" id="title" class="input"> 
            </div>
            <div>
                <label for="pages">Number of pages: </label>
                <input type="number" name="pages" id="pages" class="input"> 
            </div>
            <input type="submit" id='submit'>
        </form>
        <div id="card1">
            <p class="author" id="output"></p>
            <p class="title"></p>
            <p class="pages"></p>
        </div>
        <div id="parent">

        </div>

    </body>

    <script>
        var myLibrary=[];

        function Book(Title,Author,Pages){
            this.author=Author;
            this.title=Title;
            this.pages=Pages;
        }


        function display_books(){
            alert('it worked');
            for (let i=0;i<myLibrary.length;i++){
                let obj=myLibrary[i];
                output.innerHTML=JSON.stringify(obj);
                var newCard=document.createElement('div');
                }
        }

        function addBookToLibrary(event){
            event.preventDefault();
            var Title=document.getElementById('title').value;
            var Author=document.getElementById('author').value;
            var Pages=document.getElementById('pages').value;
            var newBook=new Book(Title,Author,Pages)
            myLibrary.push(newBook);
            display_books();
            var count=myLibrary.length;
            var newCard=document.createElement('div');
            newCard.id='card'+count+1;
            newCard.className='card';
            const parent=document.getElementById('parent');
            parent.appendChild(newCard);
            var newBook_len=(Object.keys(newBook)).length;
            var Keys=Object.keys(newBook);
            var Values=Object.values(newBook);
            alert(JSON.stringify(Keys[2]));
            alert(JSON.stringify(Values[2]));
            for (let i=0;i<newBook_len;i++){
                var newRow=document.createElement('p');
                newCard.appendChild(newRow);
                var sentence=JSON.stringify(Keys[i]) +' : '+ JSON.stringify(Values[i])
                newRow.innerHTML=sentence.replaceAll('"',' ')
            };


        }


        const submit=document.getElementById('submit');
        const output=document.getElementById('output');
        const form=document.getElementById('form');

        form.addEventListener('submit',function(){addBookToLibrary(event)});

    </script>

</html>